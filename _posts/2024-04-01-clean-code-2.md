---
title: "Clean Code 책을 읽으며 (2)"
excerpt: Clean Code 책을 읽고 공부하고, 느낀점을 기록한 글이다."

categories:
  - Book
tags:
  - [book, cleancode]

toc: true
toc_sticky: true

date: 2024-04-01
last_modified_at: 2024-04-01
---

## 3장 : 함수

함수를 어떻게 만드는지에 대해 이야기하고 있다. 함수는 작게 만들고, 한 가지만 해야 하고, 추상화 수준은 하나로 해야 하는 등 함수를 만들 때에는 함수가 전하고자 하는 메시지가 하나라는 것이 가장 중요하게 여겨지는 것 같다.
Switch 문을 설명하면서 보여지는 코드의 문제점을 짚어주고 있는데 과거 Flutter 개발을 하면서 했던 실수가 그대로 적혀있는 것 같았다.

> 위 함수에는 몇 가지 문제가 있다.<br>
> 첫째, 함수가 길다. 새 직원 유형을 추가하려면 더 길어진다.<br>
> 둘째, ‘한 가지’ 작업만 수행하지 않는다.<br>
> 셋째, SRP를 위반한다. 코드를 변경할 이유가 여럿이기 때문이다.<br>
> 넷째, OCP를 위반한다. 새 직원 유형을 추가할 때마다 코드를 변경하기 때문이다.

Dart 언어로 개발을 진행하면서 하나의 위젯에 너무 많은 메시지를 담다 보니 코드가 200~300줄을 넘어가는 건 기본이 되어 너무 더러운 코드를 작성하게 되었다.

같이 개발하던 선배가 레이아웃별로 위젯을 나눠보면 어떨까 하는 의견을 주셔서 코드를 수정하다 보니, 코드가 간단해지는 것을 느꼈다. 직접 코드를 작성하고, 고쳐보며 함수가 전하고자 하는 메시지가 하나 이상이면 안 된다는 저자의 말에 적극적으로 공감하게 되었다.

또한 객체지향 프로그래밍의 SOLID 원칙에 대해 잘 모르고 있던 터라 구현에만 집중하고, 코드를 어떻게 잘 작성할 수 있을지에 대해 생각해보지 않았던 과거를 반성하게 되었다.

중간 부분에서는 함수의 인수에 대해 설명을 하면서 this에 관해 이야기가 나온다. Java 언어를 배우면서도 this 키워드에 대한 궁금증을 가지고 있었는데 책에서 보니 더 반가웠다.

> 객체 지향 프로그래밍이 나오기 전에는 출력 인수가 불가피한 경우도 있었다. 하지만 객체 지향 언어에서는 출력 인수를 사용할 필요가 거의 없다. 출력 인수로 사용하라고 설계한 변수가 바로 this이기 때문이다.

’this’ 키워드는 객체지향이 나오면서 생기게 된 것인지 등 여러 궁금증이 생겨 좀 더 알아보았다.

그래서 함수는 어떻게 만들어야 하는가? 라고 생각이 들었는데 마침 이 파트의 마지막 부분에 나오게 된다.

> 처음에는 길고 복잡하다. 들여쓰기 단계도 많고 중복된 루프도 많다. 인수 목록도 아주 길다. 이름은 즉흥적이고 코드는 중복된다. 하지만 나는 그 서투른 코드를 빠짐없이 테스트하는 단위 테스트 케이스도 만든다. <br> 그런 다음 나는 코드를 다듬고, 함수를 만들고, 이름을 바꾸고, 중복을 제거한다. 메서드를 줄이고 순서를 바꾼다. 때로는 전체 클래스를 쪼개기도 한다. 이와중에도 코드는 항상 단위 테스트를 통과한다.<br> 최종적으로는 이 장에서 설명한 규칙을 따르는 함수가 얻어진다.
> 글을 쓸때도 초고를 바탕으로 퇴고를 걸치는 등 여러 작업이 필요한만큼 코드도 여러번 수정하는 리펙토리 과정을 걸쳐야한다고 생각한다. 어떤 코드가 좋을지는 누가 정답을 내려주는 것이 아니고, 공부하며 정답을 찾아가는 과정에서 스스로 만든 정답의 기준을 단단하게 쌓아가야한다고 생각한다. 사실 코드에 정답은 없는 것 같다. 정답으로 향하는 길이 무한 반복인 것 같다. 더 좋은 코드를 작성하기 위해 여러번 수정하는 것 처럼 ..

이번 파트에서는 ‘함수를 잘 만드는 기교’에 대해 소개했다고 한다. (마지막 결론 파트에서 나온다.)

> 대가(master)프로그래머는 시스템을 (구현할) 프로그램이 아니라 (풀어갈) 이야기로 여긴다. 프로그래밍 언어라는 수단을 사용해 좀 더 풍부하고 좀 더 표현력이 강한 언어를 만들어 이야기를 풀어간다. 시스템에서 발생하는 모든 동작을 설명하는 함수 계층이 바로 그 언어에 속한다. 재귀라는 기교로 각 동작은 바로 그 도메인에 특화된 언어를 사용해 자신만의 이야기를 풀어간다.<br>...<br>하지만 진짜 목표는 시스템이라는 이야기를 풀어가는 데 있다는 사실을 명심하기 바란다. 여러분이 작성하는 함수가 분명하고 정확한 언어로 깔끔하게 같이 맞아 떨어져야 이야기를 풀어나가기가 쉬워진다는 사실을 기억하기 바란다.

함수를 잘 만들기 위해서 어떤 것을 중점으로 생각해야 할지 생각해보고, 지난 코드를 반성해보는 등의 시간을 가지게 되었다.

## 4장 : 주석

이 장의 첫 시작부터 `나쁜 코드에 주석을 달지 마라. 새로 짜라 - 브라이언 W. 커니핸, P.J. 플라우거` 라는 문장이 나온다.

코딩테스트를 위한 알고리즘 문제를 풀면서 최대한 상세하게 주석을 적었다. 주석을 코드를 최대한 잘 풀어 쓰는 것으로 생각했기 때문이다.

하지만 이 장에서는 프로그래밍 언어를 치밀하게 사용해 의도를 표현할 능력이 있다면, 주석은 거의 필요하지 않다고 말하고 있다.

주석이 왜 필요하지 않은지, 좋은 주석이란 무엇일지를 생각해 볼 수 있었다.

아래는 저자가 말하는 좋은 주석과 나쁜 주석이다.

| 좋은 주석                                                                                                                                                               | 나쁜 주석                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| :---------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `법적인 주석`<br>`정보를 제공하는 주석`<br>`의도를 설명하는 주석`<br>`의미를 명료하게 밝히는 주석`<br>`결과를 경고하는 주석`<br>`TODO 주석`<br>`중요성을 강조하는 주석` | `주절거리는 주석`<br>`같은 이야기를 중복하는 주석`<br>`오해할 여지가 있는 주석`<br>`의무적으로 다는 주석`<br>`이력을 기록하는 주석`<br>`있으나 마나 한 주석`<br>`무서운 잡음`<br>`함수나 변수로 표현할 수 있다면 주석을 달지 마라`<br>`위치를 표시하는 주석`<br>`닫는 괄호에 다는 주석`<br>`공로를 돌리거나 저자를 표시하는 주석`<br>`주석으로 처리한 코드`<br>`HTML 주석`<br>`전역정보`<br>`너무 많은 정보`<br>`모호한 관계`<br>`함수 헤더` |

이 중 `함수나 변수로 표현할 수 있다면 주석을 달지 마라`에서 이야기하는 내용이 잘 작성한 코드란 무엇일지도 생각해볼 수 있게 해주었다.

난 코드를 작성하면서도 남이 이해하지 못할까 봐 설명하는 주석을 많이 달았다.

생각해보면 잘 작성한 코드라면 주석을 달지 않아도 모두 이해할 수 있었을 것이라는 생각이 든다.

한 챕터씩 읽으며 좋은 코드란 무엇일지, 깨끗한 코드란 무엇일지를 계속 생각하게 만들어준다.

이 책을 다 읽었을 땐 나만의 좋은 코드 리스트를 만들어보면 좋을 것 같다.
